{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Persons","persons","deletePerson","map","person","name","number","onClick","id","PersonForm","addPerson","data","onSubmit","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","Filter","Notification","message","className","text","baseUrl","service","getAll","a","request","axios","get","response","createPerson","newObject","post","updatePerson","put","delete","App","useState","setPersons","useEffect","personService","then","initialPerson","setNewName","setNewNumber","filter","setFilter","setMessage","personsFilter","p","localeCompare","undefined","sensitivity","addPersonData","event","target","preventDefault","personObject","trim","some","result","window","confirm","e","returnedPerson","setTimeout","catch","error","concat","alert","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.92652ed2.chunk.js","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst Persons = ({ persons, deletePerson }) => {\n  return persons.map(person =>\n    <p key={person.id}>\n      {person.name} : {person.number} {' '}\n      <button onClick={() => deletePerson(person.id)}>Delete</button>\n    </p>\n  )\n}\n\nPersons.propTypes = {\n  persons: PropTypes.any,\n  deletePerson: PropTypes.any\n}\n\nexport default Persons\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst PersonForm = ({ addPerson, data }) => {\n  return <form onSubmit={addPerson}>\n    <div>Name <input value={data.newName} onChange={data.handleNameChange} /></div>\n    <div>Number <input value={data.newNumber} onChange={data.handleNumberChange} /></div>\n    <div><button type=\"submit\">Add</button></div>\n  </form>\n}\n\nPersonForm.propTypes = {\n  addPerson: PropTypes.any,\n  data: PropTypes.any\n}\n\nexport default PersonForm\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst Filter = ({ value, onChange }) => {\n  return <p>Filter shown with <input value={value} onChange={onChange} /></p>\n}\n\nFilter.propTypes = {\n  value: PropTypes.any,\n  onChange: PropTypes.any,\n}\n\nexport default Filter\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst Notification = ({ message }) => {\n  if (message === null) { return null }\n\n  return <div className={message.type}>{message.text}</div>\n}\n\nNotification.propTypes = {\n  message: PropTypes.any\n}\n\nexport default Notification\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = async () => {\n  const request = axios.get(`${baseUrl}`)\n  const response = await request\n  return response.data\n}\n\nconst createPerson = async newObject => {\n  const request = axios.post(baseUrl, newObject)\n  const response = await request\n  return response.data\n}\n\nconst updatePerson = async (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  const response = await request\n  return response.data\n}\n\nconst deletePerson = async (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  const response = await request\n  return response.data\n}\n\nconst service = { getAll, createPerson, updatePerson, deletePerson }\n\nexport default service\n","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\n\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPerson => {setPersons(initialPerson)})\n  }, [])\n\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [message, setMessage] = useState('')\n\n  const handleNameChange = (event) => { setNewName(event.target.value) }\n  const handleNumberChange = (event) => { setNewNumber(event.target.value) }\n  const handleFilterChange = (event) => { setFilter(event.target.value) }\n\n  let personsFilter = persons\n  if (filter) {\n    personsFilter = persons.filter(p => filter.localeCompare(p.name, undefined, { sensitivity: 'accent' }) === 0)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = { name: newName.trim(), number: newNumber.trim() }\n\n    if (persons.some(p => p.name === personObject.name)) {\n      const result = window.confirm(\n        `${personObject.name} is already added to phonebook, replace the old number with a new one?`\n      )\n      const id = persons.filter(e => e.name === personObject.name)[0].id\n\n      if (result) {\n        personService\n          .updatePerson(id, personObject)\n          .then(returnedPerson => {\n            setPersons(persons.map(person =>\n              person.id === returnedPerson.id ? returnedPerson : person))\n            setMessage({ text: `Edited ${returnedPerson.name}`, type: 'success', })\n            setTimeout(() => {setMessage(null)}, 3000)\n          })\n          .catch(e => {\n            setMessage({ text: e.response.data.error, type: 'error' })\n            setTimeout(() => {setMessage(null)}, 3000)\n          })\n      }\n    } else {\n      personService\n        .createPerson(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setMessage({ text: `Added ${returnedPerson.name}`, type: 'success', })\n          setTimeout(() => {setMessage(null)}, 3000)\n        })\n        .catch(e => {\n          setMessage({ text: e.response.data.error, type: 'error' })\n          setTimeout(() => {setMessage(null)}, 3000)\n        })\n    }\n\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const deletePerson = (id) => {\n    if (persons.some(p => p === null)) {\n      window.alert(`${id} has already been deleted`)\n    } else {\n      personService\n        .deletePerson(id)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== id))\n          setMessage({ text: `Deleted ${id}`, type: 'success', })\n          setTimeout(() => {setMessage(null)}, 3000)\n        })\n        .catch(e => {\n          setMessage({ text: e.response.data.error, type: 'error' })\n          setTimeout(() => {setMessage(null)}, 3000)\n        })\n    }\n  }\n\n  const addPersonData = { newName, newNumber, handleNameChange, handleNumberChange }\n\n  return <div>\n    <h2>Phonebook</h2>\n    <Notification message={message} />\n    <Filter value={filter} onChange={handleFilterChange} />\n\n    <h2>Add a new person</h2>\n    <PersonForm addPerson={addPerson} data={addPersonData} />\n\n    <h2>Numbers</h2>\n    <Persons persons={personsFilter} deletePerson={deletePerson} />\n  </div>\n}\n\nexport default App\n","import React  from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App.js'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}